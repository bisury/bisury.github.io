(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{3770:(e,t,l)=>{Promise.resolve().then(l.bind(l,5134))},5134:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>i});var r=l(5155),n=l(2115),s=l(8999);let a=e=>{let{number:t,isSpinning:l,color:s}=e,[a,o]=(0,n.useState)(null===t?"-":t),i=(0,n.useRef)(null);return(0,n.useEffect)(()=>(l?i.current=setInterval(()=>{o(Math.floor(45*Math.random())+1)},50):(i.current&&clearInterval(i.current),o(null===t?"-":t)),()=>{i.current&&clearInterval(i.current)}),[l,t]),(0,r.jsx)("div",{className:"w-full h-full flex items-center justify-center text-2xl sm:text-3xl font-bold rounded-lg transition-colors\n      ".concat(l?"animate-spin-cylinder text-white":"text-gray-900","\n      ").concat(!l&&s?s:"bg-gray-700","\n    "),children:a})};function o(){let e=(0,s.useSearchParams)();(0,s.useRouter)();let[t,l]=(0,n.useState)([]),[o,i]=(0,n.useState)(Array(6).fill(null)),[c,u]=(0,n.useState)([]),[d,m]=(0,n.useState)(Array(6).fill(!1)),[x,h]=(0,n.useState)(Array(6).fill(null)),[f,g]=(0,n.useState)(!1);(0,n.useEffect)(()=>{let t=new URLSearchParams(e).get("numbers");if(t)try{let e=t.split(",").map(e=>parseInt(e,10));if(6===e.length&&e.every(e=>!isNaN(e)&&e>=1&&e<=45)){let t=[...e].sort((e,t)=>e-t);i(t),h(t)}}catch(e){console.error("Invalid URL parameters for numbers.",e)}},[e]);let b=(0,n.useCallback)(()=>{let e=c.length>0?c:Array.from({length:6},(e,t)=>t);if(0===e.length)return;let l=[...o],r=Array(6).fill(!1),n=new Set([...t,...l.filter(e=>null!==e)]),s=Array.from({length:45},(e,t)=>t+1).filter(e=>!n.has(e)),a=[];for(let e=s.length-1;e>0;e--){let t=Math.floor(Math.random()*(e+1));[s[e],s[t]]=[s[t],s[e]]}let d=s.slice(0,e.length);if(d.length<e.length)return void console.error("Not enough available numbers to generate new lotto numbers.");let x=0;e.forEach(e=>{r[e]=!0;let t=d[x++],l=(x-1)*200;a.push(new Promise(r=>{setTimeout(()=>{h(l=>{let r=[...l];return r[e]=t,r}),i(l=>{let r=[...l];return r[e]=t,r}),m(t=>{let l=[...t];return l[e]=!1,l}),r()},l+1e3)}))}),m(r),Promise.all(a).then(()=>{i(e=>[...e].sort((e,t)=>null===e?1:null===t?-1:e-t)),h(e=>[...e].sort((e,t)=>null===e?1:null===t?-1:e-t)),u([])})},[t,o,c]);return(0,r.jsxs)("div",{className:"min-h-screen bg-gray-900 text-white flex flex-col items-center justify-center p-2 sm:p-4 font-sans",children:[(0,r.jsxs)("header",{className:"text-center mb-4 sm:mb-6",children:[(0,r.jsx)("h1",{className:"text-4xl sm:text-5xl font-extrabold text-yellow-400 drop-shadow-lg",children:"운 똥망 로또"}),(0,r.jsx)("p",{className:"text-lg sm:text-xl text-gray-300 mt-2",children:"어차피 안될거 알지만 한번 돌려는 보자!"})]}),(0,r.jsxs)("main",{className:"w-full max-w-4xl bg-gray-800 bg-opacity-70 rounded-xl shadow-2xl p-4 sm:p-6",children:[(0,r.jsxs)("section",{className:"mb-6",children:[(0,r.jsx)("h2",{className:"text-xl sm:text-2xl font-bold text-yellow-300 mb-3",children:"마음에 드는 번호 선택"}),(0,r.jsx)("div",{className:"flex flex-wrap justify-center gap-1 sm:gap-2",children:Array.from({length:45},(e,t)=>t+1).map(e=>(0,r.jsx)("button",{onClick:()=>{l(t=>t.includes(e)?t.filter(t=>t!==e):t.length<10?[...t,e]:t)},className:"w-8 h-8 sm:w-9 sm:h-9 rounded-full transition-all duration-200 ease-in-out text-sm sm:text-base font-semibold flex items-center justify-center\n                  ".concat(t.includes(e)?"bg-red-600 text-white transform scale-110 border-2 border-red-400":"bg-gray-700 text-gray-200 hover:bg-gray-600","\n                  ").concat(t.length>=10&&!t.includes(e)?"opacity-50 cursor-not-allowed":"","\n                "),disabled:t.length>=10&&!t.includes(e),children:e},e))}),(0,r.jsxs)("p",{className:"text-xs sm:text-sm text-gray-400 mt-3 text-center",children:["최대 ",10,"개의 숫자를 제외할 수 있습니다."]})]}),(0,r.jsxs)("section",{className:"mb-6",children:[(0,r.jsx)("h2",{className:"text-xl sm:text-2xl font-bold text-yellow-300 mb-4 text-center",children:"당신의 행운 번호"}),(0,r.jsx)("div",{className:"grid grid-cols-6 gap-2 sm:gap-2 justify-center",children:Array.from({length:6}).map((e,t)=>{var l;return(0,r.jsx)("div",{onClick:()=>{null!==o[t]&&u(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t])},className:"relative w-12 h-16 sm:w-20 sm:h-24 rounded-lg shadow-xl flex flex-col items-center justify-center font-bold overflow-hidden cursor-pointer transition-all\n                  ".concat(c.includes(t)?"border-4 border-purple-500":"border-2 border-transparent","\n                  ").concat(null!==o[t]?"hover:border-gray-500":"cursor-default","\n                "),children:(0,r.jsx)(a,{number:x[t],isSpinning:d[t],color:x[t]?(l=x[t])<=10?"bg-yellow-400":l<=20?"bg-blue-400":l<=30?"bg-red-400":l<=40?"bg-gray-400":"bg-green-400":"bg-gray-700"})},t)})}),(0,r.jsx)("p",{className:"text-xs sm:text-sm text-gray-400 mt-3 text-center",children:o.some(e=>null!==e)?"정말 마음에 드는 번호를 선택하세요.":"버튼을 눌러 번호를 생성하세요."})]}),(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row justify-center items-center gap-3 mt-6",children:[(0,r.jsx)("button",{onClick:b,disabled:d.some(e=>e),className:"w-full sm:w-auto px-6 py-3 bg-yellow-500 text-gray-900 font-bold rounded-full shadow-lg hover:bg-yellow-400 transition-all duration-300 ease-in-out text-lg sm:text-xl disabled:bg-gray-600 disabled:text-gray-400 disabled:cursor-not-allowed",children:d.some(e=>e)?"생성 중...":c.length>0?"다시 고고고!":o.some(e=>null!==e)?"전체 다시!":"번호 생성"}),o.every(e=>null!==e)&&(0,r.jsx)("button",{onClick:()=>{new URL(window.location.href);let e=o.filter(e=>null!==e);if(6===e.length){let t=new URLSearchParams;t.set("numbers",e.join(","));let l="".concat(window.location.pathname,"?").concat(t.toString());window.history.pushState({},"",l),navigator.clipboard.writeText(window.location.href).then(()=>{g(!0),setTimeout(()=>g(!1),2e3)})}},className:"w-full sm:w-auto px-6 py-3 bg-green-500 text-white font-bold rounded-full shadow-lg hover:bg-green-400 transition-all duration-300 ease-in-out text-lg sm:text-xl",children:f?"복사 완료!":"결과 공유"})]})]})]})}function i(){return(0,r.jsx)(n.Suspense,{fallback:(0,r.jsx)("div",{className:"min-h-screen bg-gray-900 text-white flex flex-col items-center justify-center p-2 sm:p-4 font-sans",children:"Loading..."}),children:(0,r.jsx)(o,{})})}}},e=>{e.O(0,[441,964,358],()=>e(e.s=3770)),_N_E=e.O()}]);