(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{3770:(e,t,l)=>{Promise.resolve().then(l.bind(l,5134))},5134:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>i});var r=l(5155),n=l(2115),s=l(8999);let a=e=>{let{number:t,isSpinning:l,color:s}=e,[a,o]=(0,n.useState)(null===t?"-":t),i=(0,n.useRef)(null);return(0,n.useEffect)(()=>(l?i.current=setInterval(()=>{o(Math.floor(45*Math.random())+1)},50):(i.current&&clearInterval(i.current),o(null===t?"-":t)),()=>{i.current&&clearInterval(i.current)}),[l,t]),(0,r.jsx)("div",{className:"w-full h-full flex items-center justify-center text-2xl sm:text-3xl font-bold rounded-lg transition-colors\n      ".concat(l?"animate-spin-cylinder text-white":"text-gray-900","\n      ").concat(!l&&s?s:"bg-gray-700","\n    "),children:a})};function o(){let e=(0,s.useSearchParams)(),t=(0,s.useRouter)(),[l,o]=(0,n.useState)([]),[i,c]=(0,n.useState)(Array(6).fill(null)),[u,d]=(0,n.useState)([]),[m,x]=(0,n.useState)(Array(6).fill(!1)),[h,g]=(0,n.useState)(Array(6).fill(null)),[f,b]=(0,n.useState)(!1);(0,n.useEffect)(()=>{let t=new URLSearchParams(e).get("numbers");if(t)try{let e=t.split(",").map(e=>parseInt(e,10));if(6===e.length&&e.every(e=>!isNaN(e)&&e>=1&&e<=45)){let t=[...e].sort((e,t)=>e-t);c(t),g(t)}}catch(e){console.error("Invalid URL parameters for numbers.",e)}},[e]);let y=(0,n.useCallback)(l=>{let r=l.filter(e=>null!==e);if(6===r.length){let l=new URLSearchParams(e.toString());l.set("numbers",r.join(",")),t.push("?".concat(l.toString()),{scroll:!1})}},[t,e]);(0,n.useEffect)(()=>{i.every(e=>null!==e)&&y(i)},[i,y]);let p=(0,n.useCallback)(()=>{let e=u.length>0?u:Array.from({length:6},(e,t)=>t);if(0===e.length)return;let t=[...i],r=Array(6).fill(!1),n=t.filter((t,l)=>!e.includes(l)),s=Array.from({length:45},(e,t)=>t+1).filter(e=>!l.includes(e)&&!n.includes(e)),a=[],o=[];for(;o.length<e.length&&s.length>0;){let e=Math.floor(Math.random()*s.length),t=s.splice(e,1)[0];t&&!o.includes(t)&&o.push(t)}if(o.length<e.length)return void console.error("Not enough available numbers to generate new lotto numbers.");let m=0;e.forEach(e=>{r[e]=!0;let t=o[m++],l=(m-1)*200;a.push(new Promise(r=>{setTimeout(()=>{g(l=>{let r=[...l];return r[e]=t,r}),c(l=>{let r=[...l];return r[e]=t,r}),x(t=>{let l=[...t];return l[e]=!1,l}),r()},l+1e3)}))}),x(r),Promise.all(a).then(()=>{c(e=>[...e].sort((e,t)=>null===e?1:null===t?-1:e-t)),g(e=>[...e].sort((e,t)=>null===e?1:null===t?-1:e-t)),d([])})},[l,i,u]);return(0,r.jsxs)("div",{className:"min-h-screen bg-gray-900 text-white flex flex-col items-center justify-center p-2 sm:p-4 font-sans",children:[(0,r.jsxs)("header",{className:"text-center mb-4 sm:mb-6",children:[(0,r.jsx)("h1",{className:"text-4xl sm:text-5xl font-extrabold text-yellow-400 drop-shadow-lg",children:"운 똥망 로또"}),(0,r.jsx)("p",{className:"text-lg sm:text-xl text-gray-300 mt-2",children:"어차피 안될거 알지만 한번 돌려는 보자!"})]}),(0,r.jsxs)("main",{className:"w-full max-w-4xl bg-gray-800 bg-opacity-70 rounded-xl shadow-2xl p-4 sm:p-6",children:[(0,r.jsxs)("section",{className:"mb-6",children:[(0,r.jsx)("h2",{className:"text-xl sm:text-2xl font-bold text-yellow-300 mb-3",children:"마음에 드는 번호 선택"}),(0,r.jsx)("div",{className:"flex flex-wrap justify-center gap-1 sm:gap-2",children:Array.from({length:45},(e,t)=>t+1).map(e=>(0,r.jsx)("button",{onClick:()=>{o(t=>t.includes(e)?t.filter(t=>t!==e):t.length<10?[...t,e]:t)},className:"w-8 h-8 sm:w-9 sm:h-9 rounded-full transition-all duration-200 ease-in-out text-sm sm:text-base font-semibold flex items-center justify-center\n                  ".concat(l.includes(e)?"bg-red-600 text-white transform scale-110 border-2 border-red-400":"bg-gray-700 text-gray-200 hover:bg-gray-600","\n                  ").concat(l.length>=10&&!l.includes(e)?"opacity-50 cursor-not-allowed":"","\n                "),disabled:l.length>=10&&!l.includes(e),children:e},e))}),(0,r.jsxs)("p",{className:"text-xs sm:text-sm text-gray-400 mt-3 text-center",children:["최대 ",10,"개의 숫자를 제외할 수 있습니다."]})]}),(0,r.jsxs)("section",{className:"mb-6",children:[(0,r.jsx)("h2",{className:"text-xl sm:text-2xl font-bold text-yellow-300 mb-4 text-center",children:"당신의 행운 번호"}),(0,r.jsx)("div",{className:"grid grid-cols-6 gap-2 sm:gap-3",children:Array.from({length:6}).map((e,t)=>{var l;return(0,r.jsx)("div",{onClick:()=>{null!==i[t]&&d(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t])},className:"relative w-16 h-20 sm:w-20 sm:h-24 rounded-lg shadow-xl flex flex-col items-center justify-center font-bold overflow-hidden cursor-pointer transition-all\n                  ".concat(u.includes(t)?"border-4 border-purple-500":"border-2 border-transparent","\n                  ").concat(null!==i[t]?"hover:border-gray-500":"cursor-default","\n                "),children:(0,r.jsx)(a,{number:h[t],isSpinning:m[t],color:h[t]?(l=h[t])<=10?"bg-yellow-400":l<=20?"bg-blue-400":l<=30?"bg-red-400":l<=40?"bg-gray-400":"bg-green-400":"bg-gray-700"})},t)})}),(0,r.jsx)("p",{className:"text-xs sm:text-sm text-gray-400 mt-3 text-center",children:i.some(e=>null!==e)?"정말 마음에 드는 번호를 선택하세요.":"버튼을 눌러 번호를 생성하세요."})]}),(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row justify-center items-center gap-3 mt-6",children:[(0,r.jsx)("button",{onClick:p,disabled:m.some(e=>e),className:"w-full sm:w-auto px-6 py-3 bg-yellow-500 text-gray-900 font-bold rounded-full shadow-lg hover:bg-yellow-400 transition-all duration-300 ease-in-out text-lg sm:text-xl disabled:bg-gray-600 disabled:text-gray-400 disabled:cursor-not-allowed",children:m.some(e=>e)?"생성 중...":u.length>0?"다시 고고고!":i.some(e=>null!==e)?"전체 다시!":"번호 생성"}),i.every(e=>null!==e)&&(0,r.jsx)("button",{onClick:()=>{let e=new URL(window.location.href),t=i.filter(e=>null!==e);6===t.length&&(e.searchParams.set("numbers",t.join(",")),navigator.clipboard.writeText(e.toString()).then(()=>{b(!0),setTimeout(()=>b(!1),2e3)}))},className:"w-full sm:w-auto px-6 py-3 bg-green-500 text-white font-bold rounded-full shadow-lg hover:bg-green-400 transition-all duration-300 ease-in-out text-lg sm:text-xl",children:f?"복사 완료!":"결과 공유"})]})]})]})}function i(){return(0,r.jsx)(n.Suspense,{fallback:(0,r.jsx)("div",{className:"min-h-screen bg-gray-900 text-white flex flex-col items-center justify-center p-2 sm:p-4 font-sans",children:"Loading..."}),children:(0,r.jsx)(o,{})})}}},e=>{e.O(0,[441,964,358],()=>e(e.s=3770)),_N_E=e.O()}]);